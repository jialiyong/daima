<!doctype html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
<link rel="stylesheet" href="css/reset.css">
</head>

<body>
<div id="show"></div>
    <input class="input" id="saytext" name="saytext">
      <input type="button" class="sub_btn" value="提交">
      <span class="emotion">表情</span>
</body>
<script  src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery.qqFace.js"></script>
<script type="text/javascript">

$(function(){

	$('.emotion').qqFace({

		id : 'facebox', 

		assign:'saytext',

		path:'arclist/'	//表情存放的路径

	});
	$(".sub_btn").click(function(){

          var str = $("#saytext").val();
		var aaa = replace_em(str);
		$("<li></li>").html(aaa).appendTo($("#show"))

	});

});

//查看结果

function replace_em(str){

	str = str.replace(/\</g,'&lt;');

	str = str.replace(/\>/g,'&gt;');

	str = str.replace(/\n/g,'<br/>');

	str = str.replace(/\[em_([0-9]*)\]/g,'<img src="arclist/$1.gif" border="0" />');

	return str;

}

</script>
</html>
